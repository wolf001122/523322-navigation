<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>导航</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<meta name="google-adsense-account" content="ca-pub-9474229114991789">
<!-- Google AdSense -->
<script async
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9474229114991789"
  crossorigin="anonymous"></script>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
  background:#f8f9fa;
  color:#202124;
  height:100vh;
  overflow:hidden;
}
#layout{
  display:flex;
  height:100vh;
  width:100vw;
}
/* ================= 左侧分类 ================= */
#sidebar{
  width:240px;
  background:#fff;
  border-right:1px solid #dadce0;
  display:flex;
  flex-direction:column;
  box-shadow:0 1px 2px 0 rgba(60,64,67,0.3),0 1px 3px 1px rgba(60,64,67,0.15);
}
#logo{
  padding:24px 20px;
  font-size:24px;
  font-weight:700;
  text-align:center;
  color:#5f6368;
  border-bottom:1px solid #dadce0;
}
#cats{
  flex:1;
  overflow-y:auto;
  padding:8px 0;
}
.cat{
  padding:14px 24px;
  cursor:pointer;
  font-size:15px;
  color:#3c4043;
  transition:background 0.2s;
}
.cat:hover{
  background:#f1f3f4;
}
.cat.active{
  background:#e8f0fe;
  color:#1a73e8;
  font-weight:500;
}
#side-bottom{
  border-top:1px solid #dadce0;
  padding:16px 24px;
  font-size:14px;
  color:#5f6368;
}
#side-bottom div{
  margin-bottom:8px;
  cursor:pointer;
}
#side-bottom div:hover{
  color:#1a73e8;
}
/* ================= 主区域 ================= */
#main{
  flex:1;
  overflow-y:auto;
  background:#f8f9fa;
}
/* 顶部广告 */
#ad-top{
  background:#fff;
  border-bottom:1px solid #dadce0;
  padding:12px;
  text-align:center;
  box-shadow:0 1px 2px 0 rgba(60,64,67,0.3);
}
/* 搜索页 */
#search-page{
  height:calc(100vh - 60px);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding:40px;
}
#search-box{
  width:100%;
  max-width:680px;
}
#search-box input{
  width:100%;
  padding:16px 20px;
  font-size:18px;
  border:1px solid #dadce0;
  border-radius:28px;
  outline:none;
  box-shadow:0 1px 6px rgba(32,33,36,0.28);
  transition:box-shadow 0.2s;
}
#search-box input:focus{
  box-shadow:0 1px 6px rgba(32,33,36,0.38);
}
#engines{
  margin-top:20px;
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
}
#engines button{
  padding:10px 20px;
  border:1px solid #dadce0;
  background:#fff;
  border-radius:24px;
  cursor:pointer;
  font-size:14px;
  color:#3c4043;
  transition:all 0.2s;
}
#engines button:hover{
  background:#f1f3f4;
  box-shadow:0 1px 3px rgba(0,0,0,0.15);
}
/* 分类页 */
#content{
  padding:24px;
}
.back{
  margin-bottom:16px;
  color:#1a73e8;
  cursor:pointer;
  font-size:15px;
  display:inline-block;
}
.back:hover{
  text-decoration:underline;
}
/* 广告位 */
.ad-box{
  margin:32px 0;
  padding:16px;
  background:#fff;
  border:1px solid #dadce0;
  border-radius:8px;
  text-align:center;
  box-shadow:0 1px 2px 0 rgba(60,64,67,0.3);
}
/* 分类内容 */
.category-title{
  font-size:28px;
  font-weight:500;
  color:#202124;
  margin-bottom:8px;
}
.sub-title{
  font-size:18px;
  color:#5f6368;
  margin:24px 0 12px;
  font-weight:500;
}
.links{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
  gap:16px;
}
.card{
  display:flex;
  align-items:center;
  padding:16px;
  background:#fff;
  border-radius:12px;
  text-decoration:none;
  color:inherit;
  box-shadow:0 1px 2px 0 rgba(60,64,67,0.3),0 2px 6px 2px rgba(60,64,67,0.15);
  transition:all 0.2s;
}
.card:hover{
  box-shadow:0 4px 8px 0 rgba(60,64,67,0.3),0 8px 20px 4px rgba(60,64,67,0.15);
  transform:translateY(-2px);
}
.card img{
  width:48px;
  height:48px;
  min-width:48px;
  min-height:48px;
  object-fit:contain;
  background:#f8f9fa;
  border-radius:8px;
  padding:4px;
}
.text{
  margin-left:16px;
  overflow:hidden;
}
.name{
  font-size:15px;
  font-weight:500;
  color:#202124;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.desc{
  font-size:13px;
  color:#5f6368;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  margin-top:4px;
}
</style>
</head>
<body>
<div id="layout">
  <div id="sidebar">
    <div id="logo">导　航</div>
    <div id="cats"></div>
    <div id="side-bottom">
      <div>关于</div>
      <div>联系</div>
      <div>声明</div>
    </div>
  </div>
  <div id="main">
    <!-- 顶部广告 -->
    <div id="ad-top">
      <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-9474229114991789"
        data-ad-slot="1234567890"
        data-ad-format="auto"></ins>
      <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
    </div>
    <!-- 搜索页 -->
    <div id="search-page">
      <div id="search-box">
        <input id="q" placeholder="搜索…" onkeydown="if(event.key==='Enter')go()">
        <div id="engines">
          <button onclick="engine='https://www.google.com/search?q='">Google</button>
          <button onclick="engine='https://www.baidu.com/s?wd='">百度</button>
          <button onclick="engine='https://www.bing.com/search?q='">Bing</button>
        </div>
      </div>
    </div>
    <!-- 分类内容 -->
    <div id="content" style="display:none"></div>
  </div>
</div>
<script>
const API='/data/nav_data.xml';
const DEF_ICON='/icons/default.png';
let engine='https://www.google.com/search?q=';
let data;
fetch(API).then(r=>r.text()).then(t=>{
  const xml=new DOMParser().parseFromString(t,'text/xml');
  data=[...xml.querySelectorAll('category')].map(c=>({
    name:c.getAttribute('name'),
    subs:[...c.querySelectorAll('subcategory')].map(s=>({
      name:s.getAttribute('name'),
      links:[...s.querySelectorAll('link')].map(l=>({
        name:l.getAttribute('name'),
        url:l.getAttribute('url'),
        desc:l.getAttribute('desc'),
        icon:l.getAttribute('icon')
      }))
    }))
  }));
  renderCats();
});
function renderCats(){
  const box=document.getElementById('cats');
  data.forEach(c=>{
    const d=document.createElement('div');
    d.className='cat';
    d.textContent=c.name;
    d.onclick=()=>showCategory(c);
    box.appendChild(d);
  });
}
function go(){
  const q=document.getElementById('q').value.trim();
  if(q)location.href=engine+encodeURIComponent(q);
}
function showCategory(c){
  document.getElementById('search-page').style.display='none';
  const cont=document.getElementById('content');
  cont.style.display='block';
  cont.innerHTML=`<div class="back" onclick="back()">← 返回搜索</div>
    <div class="category-title">${c.name}</div>
    <div class="ad-box">
      <ins class="adsbygoogle" style="display:block"
        data-ad-client="ca-pub-9474229114991789"
        data-ad-slot="9876543210"
        data-ad-format="auto"></ins>
    </div>
  `;
  (adsbygoogle=window.adsbygoogle||[]).push({});
  c.subs.forEach((s,i)=>{
    if(!s.links.length)return;
    cont.innerHTML+=`<div class="sub-title">${s.name}</div><div class="links" id="l${i}"></div>`;
    const box=document.getElementById('l'+i);
    s.links.forEach(l=>{
      const a=document.createElement('a');
      a.className='card';
      a.href=l.url;
      a.target='_blank';
      const img=document.createElement('img');
      img.src=l.icon&&l.icon.trim()?l.icon:DEF_ICON;
      img.onerror=()=>{img.onerror=null;img.src=DEF_ICON};
      a.appendChild(img);
      const t=document.createElement('div');
      t.className='text';
      t.innerHTML=`<div class="name">${l.name}</div><div class="desc">${l.desc||''}</div>`;
      a.appendChild(t);
      box.appendChild(a);
    });
    if(i===0){
      cont.innerHTML+=`<div class="ad-box">
        <ins class="adsbygoogle" style="display:block"
          data-ad-client="ca-pub-9474229114991789"
          data-ad-slot="1122334455"
          data-ad-format="auto"></ins></div>`;
      (adsbygoogle=window.adsbygoogle||[]).push({});
    }
  });
}
function back(){
  document.getElementById('content').style.display='none';
  document.getElementById('search-page').style.display='flex';
}
</script>
</body>
</html>

