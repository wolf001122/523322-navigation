<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1600"> <!-- 电脑专用 -->
  <title>网址导航 - 实用资源站</title>
  <link rel="stylesheet" href="style.css">

  <!-- Google AdSense 核心脚本 -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9474229114991789"
          crossorigin="anonymous"></script>

  <style>
    body { margin:0; font-family:Arial,sans-serif; background:#f5f5f5; }
    .container { display:flex; max-width:1800px; margin:0 auto; min-height:100vh; }

    /* 左侧分类菜单 */
    .sidebar { width:280px; background:#fff; border-right:1px solid #eee; padding:30px 20px; position:fixed; height:100%; overflow-y:auto; box-shadow:2px 0 10px rgba(0,0,0,0.05); }
    .sidebar h3 { margin:0 0 30px; text-align:center; font-size:24px; color:#333; }
    .sidebar ul { list-style:none; padding:0; }
    .sidebar li { margin:10px 0; }
    .sidebar a { display:block; padding:15px; background:#f8f9fa; border-radius:10px; text-decoration:none; color:#333; font-size:16px; text-align:center; transition:0.3s; }
    .sidebar a:hover, .sidebar a.active { background:#e3f2fd; color:#1976d2; font-weight:bold; box-shadow:0 2px 8px rgba(0,0,0,0.1); }

    /* 主内容区 */
    .main { margin-left:280px; flex:1; padding:40px; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; }

    /* 默认搜索引擎居中显示 */
    #defaultContent { display:grid; grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)); gap:30px; width:100%; max-width:1200px; }

    /* 链接卡片 */
    .link-card { background:white; padding:30px; border-radius:16px; box-shadow:0 4px 20px rgba(0,0,0,0.1); text-align:center; transition:0.3s; height:180px; display:flex; flex-direction:column; justify-content:center; }
    .link-card:hover { transform:translateY(-5px); box-shadow:0 10px 30px rgba(0,0,0,0.15); }
    .link-card img { width:80px; height:80px; margin:0 auto 15px; object-fit:contain; }
    .link-card a { font-size:18px; color:#1976d2; text-decoration:none; font-weight:bold; }
    .link-card .desc { color:#666; font-size:14px; margin-top:8px; }

    /* 广告位 */
    .ad-top { text-align:center; margin:30px 0; }
    .ad-side { position:fixed; right:30px; top:100px; width:300px; }

    footer { text-align:center; padding:40px; color:#666; width:100%; margin-top:auto; }
  </style>
</head>
<body>
  <!-- 顶部广告 728x90 -->
  <div class="ad-top">
    <ins class="adsbygoogle"
         style="display:inline-block;width:728px;height:90px"
         data-ad-client="ca-pub-9474229114991789"
         data-ad-format="auto"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

  <div class="container">
    <!-- 左侧分类菜单 -->
    <div class="sidebar">
      <h3>分类导航</h3>
      <ul id="categoriesList">
        <!-- 动态生成 -->
      </ul>
    </div>

    <!-- 右侧主内容 -->
    <div class="main">
      <div id="contentArea">
        <!-- 默认只显示搜索引擎，垂直+水平居中 -->
        <h2 style="font-size:28px; margin-bottom:40px; color:#333;">百度一下，你就知道</h2>
        <div class="links-grid" id="defaultContent">
          <!-- 搜索引擎卡片（带真实 logo） -->
          <div class="link-card">
            <img src="https://cdn.freebiesupply.com/logos/thumbs/2x/baidu-icon-logo.png" alt="百度">
            <a href="https://www.baidu.com" target="_blank">百度</a>
            <div class="desc">百度一下，你就知道</div>
          </div>
          <div class="link-card">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1024px-Google_%22G%22_Logo.svg.png" alt="Google">
            <a href="https://www.google.com" target="_blank">Google</a>
            <div class="desc">全球最强搜索引擎</div>
          </div>
          <div class="link-card">
            <img src="https://assets.stickpng.com/images/623afb0d27d4946aceae2faa.png" alt="Bing">
            <a href="https://www.bing.com" target="_blank">Bing</a>
            <div class="desc">微软必应搜索</div>
          </div>
          <div class="link-card">
            <img src="https://img.88icon.com/download/jpg/201912/d1694c5b671f8f7e6e2ea7ec1f67c82e.jpg!bg" alt="360搜索">
            <a href="https://www.so.com" target="_blank">360搜索</a>
            <div class="desc">安全搜索</div>
          </div>
        </div>
      </div>
    </div>

    <!-- 右侧大广告 300x600 -->
    <div class="ad-side">
      <ins class="adsbygoogle"
           style="display:inline-block;width:300px;height:600px"
           data-ad-client="ca-pub-9474229114991789"
           data-ad-format="auto"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
  </div>

  <footer>© 2025 网址导航站</footer>

  <script>
    let categories = [];
    let currentCategory = null;

    async function loadData() {
      try {
        const res = await fetch('/api/data');
        const xml = await res.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(xml, 'text/xml');
        categories = Array.from(doc.querySelectorAll('category')).map(cat => ({
          name: cat.getAttribute('name'),
          links: Array.from(cat.querySelectorAll('link')).map(l => ({
            name: l.getAttribute('name'),
            url: l.getAttribute('url'),
            desc: l.getAttribute('desc') || '',
            // 可扩展：后台添加 icon 属性
            icon: l.getAttribute('icon') || 'https://via.placeholder.com/80?text=LOGO' // 默认占位
          }))
        }));

        renderSidebar();
        showDefaultSearchEngines(); // 首次只显示搜索引擎
      } catch (e) {
        document.getElementById('contentArea').innerHTML = '<p style="text-align:center;color:red;">加载失败</p>';
      }
    }

    // 渲染左侧分类
    function renderSidebar() {
      const list = document.getElementById('categoriesList');
      list.innerHTML = '';
      categories.forEach(cat => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.textContent = cat.name;
        a.href = 'javascript:void(0)';
        a.onclick = () => selectCategory(cat.name);
        li.appendChild(a);
        list.appendChild(li);
      });
    }

    // 默认只显示搜索引擎（居中）
    function showDefaultSearchEngines() {
      const area = document.getElementById('contentArea');
      area.innerHTML = `
        <h2 style="font-size:28px; margin-bottom:40px; color:#333;">百度一下，你就知道</h2>
        <div class="links-grid" id="defaultContent">
          <div class="link-card">
            <img src="https://cdn.freebiesupply.com/logos/thumbs/2x/baidu-icon-logo.png" alt="百度">
            <a href="https://www.baidu.com" target="_blank">百度</a>
            <div class="desc">百度一下，你就知道</div>
          </div>
          <div class="link-card">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1024px-Google_%22G%22_Logo.svg.png" alt="Google">
            <a href="https://www.google.com" target="_blank">Google</a>
            <div class="desc">全球最强搜索引擎</div>
          </div>
          <div class="link-card">
            <img src="https://assets.stickpng.com/images/623afb0d27d4946aceae2faa.png" alt="Bing">
            <a href="https://www.bing.com" target="_blank">Bing</a>
            <div class="desc">微软必应搜索</div>
          </div>
          <div class="link-card">
            <img src="https://img.88icon.com/download/jpg/201912/d1694c5b671f8f7e6e2ea7ec1f67c82e.jpg!bg" alt="360搜索">
            <a href="https://www.so.com" target="_blank">360搜索</a>
            <div class="desc">安全搜索</div>
          </div>
        </div>
      `;

      // 高亮无分类（默认状态）
      document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
    }

    // 点击分类显示内容
    function selectCategory(name) {
      const cat = categories.find(c => c.name === name);
      if (!cat) return;

      const area = document.getElementById('contentArea');
      area.innerHTML = `<h2 style="font-size:28px; margin-bottom:40px; color:#333;">${cat.name}</h2>`;
      const grid = document.createElement('div');
      grid.className = 'links-grid';

      cat.links.forEach(link => {
        const card = document.createElement('div');
        card.className = 'link-card';
        card.innerHTML = `
          <img src="${link.icon}" alt="${link.name}">
          <a href="${link.url}" target="_blank">${link.name}</a>
          <div class="desc">${link.desc}</div>
        `;
        grid.appendChild(card);
      });

      area.appendChild(grid);

      // 高亮当前分类
      document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
      document.querySelector(`.sidebar a[onclick="selectCategory('${name}')"]`)?.classList.add('active');
    }

    // 启动
    loadData();
  </script>
</body>
</html>
